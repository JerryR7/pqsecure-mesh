# PQSecure Mesh Environment Variables Example
# Copy this file to .env and modify as needed

# General Settings
PQSM__GENERAL__APP_NAME=PQSecure Mesh
PQSM__GENERAL__MODE=sidecar
PQSM__GENERAL__LOG_LEVEL=debug
PQSM__GENERAL__DATA_DIR=./data

# Identity Settings
PQSM__IDENTITY__TENANT=default
PQSM__IDENTITY__SERVICE=pqsecure-mesh
PQSM__IDENTITY__IDENTITY_DIR=./data/identity
PQSM__IDENTITY__PROVIDER_TYPE=smallstep
PQSM__IDENTITY__RENEW_THRESHOLD_PCT=20

# API Settings
PQSM__API__LISTEN_ADDR=0.0.0.0
PQSM__API__LISTEN_PORT=8080
PQSM__API__PATH_PREFIX=/api/v1
PQSM__API__ENABLE_HTTP2=true

# Proxy Settings
PQSM__PROXY__LISTEN_ADDR=0.0.0.0
PQSM__PROXY__LISTEN_PORT=9090
PQSM__PROXY__UPSTREAM_ADDR=127.0.0.1
PQSM__PROXY__UPSTREAM_PORT=8000
PQSM__PROXY__PROTOCOL=http
PQSM__PROXY__IDLE_TIMEOUT_SECONDS=300
PQSM__PROXY__ENABLE_COMPRESSION=true
PQSM__PROXY__PROPAGATE_TRACE_HEADERS=true

# Certificate Settings
PQSM__CERT__ENABLE_MTLS=true
PQSM__CERT__ENABLE_PQC=true
PQSM__CERT__PQC_ALGORITHM=Kyber768
PQSM__CERT__CA_TYPE=smallstep
PQSM__CERT__CA_URL=https://ca.example.com
#PQSM__CERT__CA_TOKEN=your-bootstrap-token
PQSM__CERT__CERTS_DIR=./data/certs
PQSM__CERT__CERT_DURATION_HOURS=8760

# Policy Settings
PQSM__POLICY__POLICY_PATH=./config/policy.yaml
PQSM__POLICY__EVALUATION_MODE=strict
PQSM__POLICY__REFRESH_INTERVAL_SECONDS=60
PQSM__POLICY__USE_WASM_PLUGINS=false
#PQSM__POLICY__WASM_PLUGINS_DIR=./plugins

# Telemetry Settings
PQSM__TELEMETRY__ENABLE_METRICS=true
PQSM__TELEMETRY__METRICS_PORT=9091
PQSM__TELEMETRY__ENABLE_TRACING=false
#PQSM__TELEMETRY__TRACING_ENDPOINT=http://jaeger:14268/api/traces
PQSM__TELEMETRY__TRACING_SAMPLING_RATE=0.1
PQSM__TELEMETRY__STRUCTURED_LOGGING=true